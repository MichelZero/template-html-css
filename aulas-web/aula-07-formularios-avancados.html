<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 7: Formul√°rios Avan√ßados - Curso HTML Fundamentals</title>
    <meta name="description" content="S√©tima aula do curso de HTML: formul√°rios avan√ßados com valida√ß√£o complexa, UX e t√©cnicas de convers√£o.">
    <link rel="stylesheet" href="assets/style-aulas.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
</head>
<body>
    <div class="aula-container">
        <!-- Navega√ß√£o -->
        <nav class="aula-nav">
            <a href="aula-06-formularios-basicos.html" class="nav-btn">
                ‚Üê üìã Aula Anterior
            </a>
            <a href="index.html" class="nav-btn">
                üìö Curso
            </a>
            <a href="aula-08-html-semantico.html" class="nav-btn">
                üèóÔ∏è Pr√≥xima Aula ‚Üí
            </a>
        </nav>

        <!-- Header da Aula -->
        <header class="aula-header">
            <div class="aula-numero">AULA 7</div>
            <h1 class="aula-titulo">üöÄ Formul√°rios Avan√ßados</h1>
            <p class="aula-descricao">
                Domine t√©cnicas avan√ßadas de formul√°rios: valida√ß√£o complexa, fieldsets din√¢micos,
                UX otimizada para convers√£o e integra√ß√µes modernas.
            </p>
            <div class="aula-meta">
                <div class="meta-item">
                    <span>‚è±Ô∏è</span> <span>55 minutos</span>
                </div>
                <div class="meta-item">
                    <span>üéØ</span> <span>Avan√ßado</span>
                </div>
                <div class="meta-item">
                    <span>üìù</span> <span>4 Exerc√≠cios</span>
                </div>
            </div>
        </header>

        <!-- Objetivos da Aula -->
        <div class="objetivos">
            <h3>üéØ Objetivos de Aprendizagem</h3>
            <ul>
                <li>Implementar valida√ß√£o complexa com JavaScript</li>
                <li>Criar formul√°rios multi-etapas</li>
                <li>Aplicar t√©cnicas de UX para aumentar convers√£o</li>
                <li>Dominar fieldsets din√¢micos e condicionais</li>
                <li>Integrar com APIs modernas de valida√ß√£o</li>
            </ul>
        </div>

        <!-- Se√ß√£o 1: Valida√ß√£o Avan√ßada -->
        <section class="secao">
            <h2>üîç 1. Valida√ß√£o Complexa</h2>
            
            <div class="destaque info">
                <h4>üéØ Al√©m do HTML5</h4>
                <p>
                    Embora a valida√ß√£o HTML5 seja √∫til, formul√°rios profissionais precisam de 
                    valida√ß√£o mais sofisticada, feedback em tempo real e integra√ß√£o com APIs.
                </p>
            </div>

            <h3>‚ö° Valida√ß√£o em Tempo Real</h3>
            <div class="codigo" data-lang="HTML">
<pre><code>&lt;form id="registration-form" novalidate&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="email-check"&gt;E-mail&lt;/label&gt;
        &lt;div class="input-container"&gt;
            &lt;input type="email" 
                   id="email-check" 
                   name="email" 
                   required
                   data-validate="email"&gt;
            &lt;div class="validation-icon"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="validation-message"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class="form-group"&gt;
        &lt;label for="password-strength"&gt;Senha&lt;/label&gt;
        &lt;div class="input-container"&gt;
            &lt;input type="password" 
                   id="password-strength" 
                   name="password" 
                   required
                   data-validate="password"&gt;
            &lt;div class="password-toggle" onclick="togglePassword()"&gt;üëÅÔ∏è&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="password-strength"&gt;
            &lt;div class="strength-meter"&gt;
                &lt;div class="strength-fill"&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="strength-text"&gt;For√ßa da senha&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="validation-message"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class="form-group"&gt;
        &lt;label for="cpf-validate"&gt;CPF&lt;/label&gt;
        &lt;div class="input-container"&gt;
            &lt;input type="text" 
                   id="cpf-validate" 
                   name="cpf" 
                   required
                   data-validate="cpf"
                   data-mask="000.000.000-00"&gt;
            &lt;div class="validation-icon"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="validation-message"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;button type="submit" disabled&gt;Cadastrar&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
class FormValidator {
    constructor(form) {
        this.form = form;
        this.fields = {};
        this.isValid = false;
        this.init();
    }
    
    init() {
        const inputs = this.form.querySelectorAll('[data-validate]');
        inputs.forEach(input =&gt; {
            this.setupField(input);
        });
        
        this.form.addEventListener('submit', (e) =&gt; this.handleSubmit(e));
    }
    
    setupField(input) {
        const type = input.dataset.validate;
        this.fields[input.name] = { element: input, valid: false };
        
        // Eventos
        input.addEventListener('input', () =&gt; this.validateField(input, type));
        input.addEventListener('blur', () =&gt; this.validateField(input, type));
        
        // M√°scara se especificada
        if (input.dataset.mask) {
            input.addEventListener('input', () =&gt; this.applyMask(input));
        }
    }
    
    validateField(input, type) {
        const value = input.value.trim();
        let isValid = false;
        let message = '';
        
        switch (type) {
            case 'email':
                isValid = this.validateEmail(value);
                message = isValid ? '‚úì E-mail v√°lido' : '‚úó E-mail inv√°lido';
                break;
                
            case 'password':
                const strength = this.validatePassword(value);
                isValid = strength.score &gt;= 3;
                message = strength.message;
                this.updatePasswordStrength(input, strength);
                break;
                
            case 'cpf':
                isValid = this.validateCPF(value);
                message = isValid ? '‚úì CPF v√°lido' : '‚úó CPF inv√°lido';
                break;
        }
        
        this.updateFieldStatus(input, isValid, message);
        this.fields[input.name].valid = isValid;
        this.updateSubmitButton();
    }
    
    validateEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }
    
    validatePassword(password) {
        let score = 0;
        let message = '';
        
        if (password.length &gt;= 8) score++;
        if (/[a-z]/.test(password)) score++;
        if (/[A-Z]/.test(password)) score++;
        if (/\d/.test(password)) score++;
        if (/[^a-zA-Z\d]/.test(password)) score++;
        
        switch (score) {
            case 0:
            case 1:
                message = 'Muito fraca';
                break;
            case 2:
                message = 'Fraca';
                break;
            case 3:
                message = 'M√©dia';
                break;
            case 4:
                message = 'Forte';
                break;
            case 5:
                message = 'Muito forte';
                break;
        }
        
        return { score, message };
    }
    
    validateCPF(cpf) {
        cpf = cpf.replace(/[^\d]/g, '');
        
        if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
            return false;
        }
        
        // Valida√ß√£o dos d√≠gitos verificadores
        let sum = 0;
        for (let i = 0; i &lt; 9; i++) {
            sum += parseInt(cpf.charAt(i)) * (10 - i);
        }
        let remainder = (sum * 10) % 11;
        if (remainder === 10 || remainder === 11) remainder = 0;
        if (remainder !== parseInt(cpf.charAt(9))) return false;
        
        sum = 0;
        for (let i = 0; i &lt; 10; i++) {
            sum += parseInt(cpf.charAt(i)) * (11 - i);
        }
        remainder = (sum * 10) % 11;
        if (remainder === 10 || remainder === 11) remainder = 0;
        if (remainder !== parseInt(cpf.charAt(10))) return false;
        
        return true;
    }
    
    applyMask(input) {
        const mask = input.dataset.mask;
        let value = input.value.replace(/[^\d]/g, '');
        let maskedValue = '';
        let maskIndex = 0;
        
        for (let i = 0; i &lt; mask.length && maskIndex &lt; value.length; i++) {
            if (mask[i] === '0') {
                maskedValue += value[maskIndex];
                maskIndex++;
            } else {
                maskedValue += mask[i];
            }
        }
        
        input.value = maskedValue;
    }
    
    updateFieldStatus(input, isValid, message) {
        const container = input.closest('.form-group');
        const icon = container.querySelector('.validation-icon');
        const messageEl = container.querySelector('.validation-message');
        
        icon.textContent = isValid ? '‚úì' : '‚úó';
        icon.className = `validation-icon ${isValid ? 'valid' : 'invalid'}`;
        
        messageEl.textContent = message;
        messageEl.className = `validation-message ${isValid ? 'valid' : 'invalid'}`;
        
        input.setAttribute('aria-invalid', !isValid);
    }
    
    updatePasswordStrength(input, strength) {
        const container = input.closest('.form-group');
        const meter = container.querySelector('.strength-fill');
        const text = container.querySelector('.strength-text');
        
        const percentage = (strength.score / 5) * 100;
        meter.style.width = `${percentage}%`;
        meter.className = `strength-fill strength-${strength.score}`;
        text.textContent = strength.message;
    }
    
    updateSubmitButton() {
        const allValid = Object.values(this.fields).every(field =&gt; field.valid);
        const submitBtn = this.form.querySelector('button[type="submit"]');
        submitBtn.disabled = !allValid;
    }
    
    handleSubmit(e) {
        e.preventDefault();
        
        if (this.isFormValid()) {
            this.submitForm();
        }
    }
    
    isFormValid() {
        return Object.values(this.fields).every(field =&gt; field.valid);
    }
    
    async submitForm() {
        const submitBtn = this.form.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        
        submitBtn.textContent = 'Enviando...';
        submitBtn.disabled = true;
        
        try {
            // Simular envio
            await new Promise(resolve =&gt; setTimeout(resolve, 2000));
            
            submitBtn.textContent = '‚úì Enviado!';
            submitBtn.className = 'btn-success';
            
            setTimeout(() =&gt; {
                submitBtn.textContent = originalText;
                submitBtn.className = '';
                submitBtn.disabled = false;
            }, 3000);
            
        } catch (error) {
            submitBtn.textContent = '‚úó Erro no envio';
            submitBtn.className = 'btn-error';
            
            setTimeout(() =&gt; {
                submitBtn.textContent = originalText;
                submitBtn.className = '';
                submitBtn.disabled = false;
            }, 3000);
        }
    }
}

// Inicializar validador
document.addEventListener('DOMContentLoaded', () =&gt; {
    const form = document.getElementById('registration-form');
    new FormValidator(form);
});

function togglePassword() {
    const input = document.getElementById('password-strength');
    const toggle = document.querySelector('.password-toggle');
    
    if (input.type === 'password') {
        input.type = 'text';
        toggle.textContent = 'üôà';
    } else {
        input.type = 'password';
        toggle.textContent = 'üëÅÔ∏è';
    }
}
&lt;/script&gt;</code></pre>
            </div>

            <h3>üé® CSS para Valida√ß√£o</h3>
            <div class="codigo" data-lang="CSS">
<pre><code>/* Container de input com √≠cone */
.input-container {
    position: relative;
    display: flex;
    align-items: center;
}

.input-container input {
    flex: 1;
    padding-right: 40px;
}

.validation-icon {
    position: absolute;
    right: 12px;
    font-weight: bold;
    font-size: 16px;
    transition: all 0.3s ease;
}

.validation-icon.valid {
    color: #28a745;
}

.validation-icon.invalid {
    color: #dc3545;
}

/* Mensagens de valida√ß√£o */
.validation-message {
    margin-top: 4px;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.validation-message.valid {
    color: #28a745;
}

.validation-message.invalid {
    color: #dc3545;
}

/* Medidor de for√ßa da senha */
.password-strength {
    margin-top: 8px;
}

.strength-meter {
    width: 100%;
    height: 6px;
    background-color: #e9ecef;
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 4px;
}

.strength-fill {
    height: 100%;
    transition: all 0.3s ease;
    border-radius: 3px;
}

.strength-fill.strength-0,
.strength-fill.strength-1 {
    background-color: #dc3545;
}

.strength-fill.strength-2 {
    background-color: #fd7e14;
}

.strength-fill.strength-3 {
    background-color: #ffc107;
}

.strength-fill.strength-4 {
    background-color: #20c997;
}

.strength-fill.strength-5 {
    background-color: #28a745;
}

.strength-text {
    font-size: 12px;
    color: #6c757d;
}

/* Toggle de senha */
.password-toggle {
    position: absolute;
    right: 12px;
    cursor: pointer;
    font-size: 18px;
    user-select: none;
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.password-toggle:hover {
    opacity: 1;
}

/* Estados do bot√£o */
button[type="submit"] {
    transition: all 0.3s ease;
}

button[type="submit"]:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.btn-success {
    background-color: #28a745 !important;
}

.btn-error {
    background-color: #dc3545 !important;
}</code></pre>
            </div>
        </section>

        <!-- Exerc√≠cio 1 -->
        <div class="exercicio">
            <h4>üèãÔ∏è‚Äç‚ôÇÔ∏è Exerc√≠cio 1: Sistema de Cadastro Completo</h4>
            <p>
                Crie um sistema de cadastro avan√ßado com:
            </p>
            <ul>
                <li>Valida√ß√£o de e-mail em tempo real</li>
                <li>Verifica√ß√£o de for√ßa de senha</li>
                <li>Valida√ß√£o de CPF/CNPJ</li>
                <li>M√°scara de entrada para telefone</li>
                <li>Feedback visual instant√¢neo</li>
            </ul>
        </div>

        <!-- Se√ß√£o 2: Formul√°rios Multi-etapas -->
        <section class="secao">
            <h2>üìã 2. Formul√°rios Multi-etapas</h2>
            
            <h3>üéØ Estrutura Base</h3>
            <div class="codigo" data-lang="HTML">
<pre><code>&lt;form id="multi-step-form" class="multi-step-form"&gt;
    &lt;!-- Indicador de progresso --&gt;
    &lt;div class="progress-indicator"&gt;
        &lt;div class="step active" data-step="1"&gt;
            &lt;span class="step-number"&gt;1&lt;/span&gt;
            &lt;span class="step-title"&gt;Dados Pessoais&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="step" data-step="2"&gt;
            &lt;span class="step-number"&gt;2&lt;/span&gt;
            &lt;span class="step-title"&gt;Endere√ßo&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="step" data-step="3"&gt;
            &lt;span class="step-number"&gt;3&lt;/span&gt;
            &lt;span class="step-title"&gt;Prefer√™ncias&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="step" data-step="4"&gt;
            &lt;span class="step-number"&gt;4&lt;/span&gt;
            &lt;span class="step-title"&gt;Confirma√ß√£o&lt;/span&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- Etapa 1: Dados Pessoais --&gt;
    &lt;div class="form-step active" data-step="1"&gt;
        &lt;h2&gt;üë§ Dados Pessoais&lt;/h2&gt;
        &lt;p&gt;Vamos come√ßar com suas informa√ß√µes b√°sicas&lt;/p&gt;
        
        &lt;div class="form-row"&gt;
            &lt;div class="form-col"&gt;
                &lt;label for="first-name"&gt;Nome&lt;/label&gt;
                &lt;input type="text" 
                       id="first-name" 
                       name="firstName" 
                       required
                       data-step="1"&gt;
            &lt;/div&gt;
            &lt;div class="form-col"&gt;
                &lt;label for="last-name"&gt;Sobrenome&lt;/label&gt;
                &lt;input type="text" 
                       id="last-name" 
                       name="lastName" 
                       required
                       data-step="1"&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;div class="form-group"&gt;
            &lt;label for="email-step"&gt;E-mail&lt;/label&gt;
            &lt;input type="email" 
                   id="email-step" 
                   name="email" 
                   required
                   data-step="1"&gt;
        &lt;/div&gt;
        
        &lt;div class="form-group"&gt;
            &lt;label for="phone-step"&gt;Telefone&lt;/label&gt;
            &lt;input type="tel" 
                   id="phone-step" 
                   name="phone" 
                   required
                   data-step="1"&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- Etapa 2: Endere√ßo --&gt;
    &lt;div class="form-step" data-step="2"&gt;
        &lt;h2&gt;üè† Endere√ßo&lt;/h2&gt;
        &lt;p&gt;Onde voc√™ mora?&lt;/p&gt;
        
        &lt;div class="form-group"&gt;
            &lt;label for="cep-step"&gt;CEP&lt;/label&gt;
            &lt;input type="text" 
                   id="cep-step" 
                   name="cep" 
                   required
                   data-step="2"
                   onblur="buscarCEP(this.value)"&gt;
        &lt;/div&gt;
        
        &lt;div class="form-row"&gt;
            &lt;div class="form-col" style="flex: 3;"&gt;
                &lt;label for="street"&gt;Rua&lt;/label&gt;
                &lt;input type="text" 
                       id="street" 
                       name="street" 
                       required
                       data-step="2"&gt;
            &lt;/div&gt;
            &lt;div class="form-col" style="flex: 1;"&gt;
                &lt;label for="number"&gt;N√∫mero&lt;/label&gt;
                &lt;input type="text" 
                       id="number" 
                       name="number" 
                       required
                       data-step="2"&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;div class="form-row"&gt;
            &lt;div class="form-col"&gt;
                &lt;label for="city"&gt;Cidade&lt;/label&gt;
                &lt;input type="text" 
                       id="city" 
                       name="city" 
                       required
                       data-step="2"&gt;
            &lt;/div&gt;
            &lt;div class="form-col"&gt;
                &lt;label for="state"&gt;Estado&lt;/label&gt;
                &lt;select id="state" name="state" required data-step="2"&gt;
                    &lt;option value=""&gt;Selecione&lt;/option&gt;
                    &lt;option value="SP"&gt;S√£o Paulo&lt;/option&gt;
                    &lt;option value="RJ"&gt;Rio de Janeiro&lt;/option&gt;
                    &lt;option value="MG"&gt;Minas Gerais&lt;/option&gt;
                    &lt;!-- Mais estados... --&gt;
                &lt;/select&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- Etapa 3: Prefer√™ncias --&gt;
    &lt;div class="form-step" data-step="3"&gt;
        &lt;h2&gt;‚öôÔ∏è Prefer√™ncias&lt;/h2&gt;
        &lt;p&gt;Como prefere receber comunica√ß√µes?&lt;/p&gt;
        
        &lt;fieldset&gt;
            &lt;legend&gt;M√©todo de Contato Preferido&lt;/legend&gt;
            
            &lt;label class="radio-card"&gt;
                &lt;input type="radio" name="contactMethod" value="email" data-step="3"&gt;
                &lt;div class="radio-card-content"&gt;
                    &lt;h4&gt;üìß E-mail&lt;/h4&gt;
                    &lt;p&gt;Comunica√ß√£o por e-mail&lt;/p&gt;
                &lt;/div&gt;
            &lt;/label&gt;
            
            &lt;label class="radio-card"&gt;
                &lt;input type="radio" name="contactMethod" value="sms" data-step="3"&gt;
                &lt;div class="radio-card-content"&gt;
                    &lt;h4&gt;üì± SMS&lt;/h4&gt;
                    &lt;p&gt;Mensagens de texto&lt;/p&gt;
                &lt;/div&gt;
            &lt;/label&gt;
            
            &lt;label class="radio-card"&gt;
                &lt;input type="radio" name="contactMethod" value="phone" data-step="3"&gt;
                &lt;div class="radio-card-content"&gt;
                    &lt;h4&gt;üìû Telefone&lt;/h4&gt;
                    &lt;p&gt;Liga√ß√µes diretas&lt;/p&gt;
                &lt;/div&gt;
            &lt;/label&gt;
        &lt;/fieldset&gt;
        
        &lt;fieldset&gt;
            &lt;legend&gt;Interesses&lt;/legend&gt;
            
            &lt;div class="checkbox-group"&gt;
                &lt;label&gt;
                    &lt;input type="checkbox" name="interests[]" value="tech" data-step="3"&gt;
                    üñ•Ô∏è Tecnologia
                &lt;/label&gt;
                &lt;label&gt;
                    &lt;input type="checkbox" name="interests[]" value="design" data-step="3"&gt;
                    üé® Design
                &lt;/label&gt;
                &lt;label&gt;
                    &lt;input type="checkbox" name="interests[]" value="business" data-step="3"&gt;
                    üíº Neg√≥cios
                &lt;/label&gt;
            &lt;/div&gt;
        &lt;/fieldset&gt;
    &lt;/div&gt;
    
    &lt;!-- Etapa 4: Confirma√ß√£o --&gt;
    &lt;div class="form-step" data-step="4"&gt;
        &lt;h2&gt;‚úÖ Confirma√ß√£o&lt;/h2&gt;
        &lt;p&gt;Revise suas informa√ß√µes antes de enviar&lt;/p&gt;
        
        &lt;div class="summary-section"&gt;
            &lt;h3&gt;üë§ Dados Pessoais&lt;/h3&gt;
            &lt;div id="summary-personal"&gt;&lt;/div&gt;
        &lt;/div&gt;
        
        &lt;div class="summary-section"&gt;
            &lt;h3&gt;üè† Endere√ßo&lt;/h3&gt;
            &lt;div id="summary-address"&gt;&lt;/div&gt;
        &lt;/div&gt;
        
        &lt;div class="summary-section"&gt;
            &lt;h3&gt;‚öôÔ∏è Prefer√™ncias&lt;/h3&gt;
            &lt;div id="summary-preferences"&gt;&lt;/div&gt;
        &lt;/div&gt;
        
        &lt;label class="checkbox-custom"&gt;
            &lt;input type="checkbox" name="terms" required data-step="4"&gt;
            &lt;span class="checkmark"&gt;&lt;/span&gt;
            Li e aceito os &lt;a href="/termos" target="_blank"&gt;termos de uso&lt;/a&gt;
        &lt;/label&gt;
    &lt;/div&gt;
    
    &lt;!-- Navega√ß√£o entre etapas --&gt;
    &lt;div class="form-navigation"&gt;
        &lt;button type="button" id="prev-btn" class="btn btn-secondary" onclick="previousStep()"&gt;
            ‚Üê Anterior
        &lt;/button&gt;
        &lt;button type="button" id="next-btn" class="btn btn-primary" onclick="nextStep()"&gt;
            Pr√≥ximo ‚Üí
        &lt;/button&gt;
        &lt;button type="submit" id="submit-btn" class="btn btn-success" style="display: none;"&gt;
            üöÄ Finalizar Cadastro
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
            </div>

            <h3>üéØ JavaScript para Navega√ß√£o</h3>
            <div class="codigo" data-lang="JavaScript">
<pre><code>class MultiStepForm {
    constructor(formId) {
        this.form = document.getElementById(formId);
        this.currentStep = 1;
        this.totalSteps = 4;
        this.formData = {};
        
        this.init();
    }
    
    init() {
        this.form.addEventListener('submit', (e) => this.handleSubmit(e));
        this.updateStepDisplay();
        this.bindEvents();
    }
    
    bindEvents() {
        // Salvar dados automaticamente
        const inputs = this.form.querySelectorAll('input, select, textarea');
        inputs.forEach(input => {
            input.addEventListener('change', () => this.saveStepData());
            input.addEventListener('input', () => this.saveStepData());
        });
    }
    
    nextStep() {
        if (this.validateCurrentStep()) {
            this.saveStepData();
            
            if (this.currentStep < this.totalSteps) {
                this.currentStep++;
                this.updateStepDisplay();
                
                if (this.currentStep === this.totalSteps) {
                    this.generateSummary();
                }
            }
        }
    }
    
    previousStep() {
        if (this.currentStep > 1) {
            this.currentStep--;
            this.updateStepDisplay();
        }
    }
    
    updateStepDisplay() {
        // Ocultar todas as etapas
        const steps = this.form.querySelectorAll('.form-step');
        steps.forEach(step => step.classList.remove('active'));
        
        // Mostrar etapa atual
        const currentStepEl = this.form.querySelector(`[data-step="${this.currentStep}"]`);
        if (currentStepEl && currentStepEl.classList.contains('form-step')) {
            currentStepEl.classList.add('active');
        }
        
        // Atualizar indicador de progresso
        this.updateProgressIndicator();
        
        // Atualizar bot√µes de navega√ß√£o
        this.updateNavigationButtons();
        
        // Scroll para o topo
        this.form.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    
    updateProgressIndicator() {
        const progressSteps = this.form.querySelectorAll('.progress-indicator .step');
        
        progressSteps.forEach((step, index) => {
            const stepNumber = index + 1;
            
            if (stepNumber < this.currentStep) {
                step.classList.add('completed');
                step.classList.remove('active');
            } else if (stepNumber === this.currentStep) {
                step.classList.add('active');
                step.classList.remove('completed');
            } else {
                step.classList.remove('active', 'completed');
            }
        });
    }
    
    updateNavigationButtons() {
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        
        // Bot√£o anterior
        prevBtn.style.display = this.currentStep === 1 ? 'none' : 'inline-block';
        
        // Bot√£o pr√≥ximo/enviar
        if (this.currentStep === this.totalSteps) {
            nextBtn.style.display = 'none';
            submitBtn.style.display = 'inline-block';
        } else {
            nextBtn.style.display = 'inline-block';
            submitBtn.style.display = 'none';
        }
    }
    
    validateCurrentStep() {
        const currentInputs = this.form.querySelectorAll(`[data-step="${this.currentStep}"]`);
        let isValid = true;
        
        currentInputs.forEach(input => {
            if (input.hasAttribute('required') && !input.value.trim()) {
                this.showError(input, 'Este campo √© obrigat√≥rio');
                isValid = false;
            } else if (input.type === 'email' && input.value && !this.isValidEmail(input.value)) {
                this.showError(input, 'E-mail inv√°lido');
                isValid = false;
            } else {
                this.clearError(input);
            }
        });
        
        return isValid;
    }
    
    showError(input, message) {
        const group = input.closest('.form-group') || input.closest('.form-col');
        let errorEl = group.querySelector('.error-message');
        
        if (!errorEl) {
            errorEl = document.createElement('div');
            errorEl.className = 'error-message';
            group.appendChild(errorEl);
        }
        
        errorEl.textContent = message;
        input.classList.add('error');
    }
    
    clearError(input) {
        const group = input.closest('.form-group') || input.closest('.form-col');
        const errorEl = group.querySelector('.error-message');
        
        if (errorEl) {
            errorEl.remove();
        }
        
        input.classList.remove('error');
    }
    
    saveStepData() {
        const currentInputs = this.form.querySelectorAll(`[data-step="${this.currentStep}"]`);
        
        currentInputs.forEach(input => {
            if (input.type === 'checkbox') {
                if (!this.formData[input.name]) {
                    this.formData[input.name] = [];
                }
                if (input.checked && !this.formData[input.name].includes(input.value)) {
                    this.formData[input.name].push(input.value);
                } else if (!input.checked) {
                    this.formData[input.name] = this.formData[input.name].filter(v => v !== input.value);
                }
            } else if (input.type === 'radio') {
                if (input.checked) {
                    this.formData[input.name] = input.value;
                }
            } else {
                this.formData[input.name] = input.value;
            }
        });
        
        // Salvar no localStorage
        localStorage.setItem('multiStepFormData', JSON.stringify(this.formData));
    }
    
    generateSummary() {
        // Resumo dados pessoais
        const personalSummary = document.getElementById('summary-personal');
        personalSummary.innerHTML = `
            &lt;p&gt;&lt;strong&gt;Nome:&lt;/strong&gt; ${this.formData.firstName} ${this.formData.lastName}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;E-mail:&lt;/strong&gt; ${this.formData.email}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Telefone:&lt;/strong&gt; ${this.formData.phone}&lt;/p&gt;
        `;
        
        // Resumo endere√ßo
        const addressSummary = document.getElementById('summary-address');
        addressSummary.innerHTML = `
            &lt;p&gt;&lt;strong&gt;CEP:&lt;/strong&gt; ${this.formData.cep}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Endere√ßo:&lt;/strong&gt; ${this.formData.street}, ${this.formData.number}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Cidade/Estado:&lt;/strong&gt; ${this.formData.city}/${this.formData.state}&lt;/p&gt;
        `;
        
        // Resumo prefer√™ncias
        const prefSummary = document.getElementById('summary-preferences');
        const interests = Array.isArray(this.formData['interests[]']) ? this.formData['interests[]'].join(', ') : 'Nenhum';
        prefSummary.innerHTML = `
            &lt;p&gt;&lt;strong&gt;Contato:&lt;/strong&gt; ${this.formData.contactMethod}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Interesses:&lt;/strong&gt; ${interests}&lt;/p&gt;
        `;
    }
    
    async handleSubmit(e) {
        e.preventDefault();
        
        if (!this.validateCurrentStep()) {
            return;
        }
        
        const submitBtn = document.getElementById('submit-btn');
        const originalText = submitBtn.textContent;
        
        submitBtn.textContent = '‚è≥ Enviando...';
        submitBtn.disabled = true;
        
        try {
            // Simular envio
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            submitBtn.textContent = '‚úÖ Cadastro Realizado!';
            
            // Limpar dados salvos
            localStorage.removeItem('multiStepFormData');
            
            // Redirecionar ou mostrar sucesso
            setTimeout(() => {
                alert('Cadastro realizado com sucesso!');
            }, 1000);
            
        } catch (error) {
            submitBtn.textContent = '‚ùå Erro no envio';
            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 3000);
        }
    }
    
    isValidEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }
}

// Inicializar formul√°rio
let multiStepForm;
document.addEventListener('DOMContentLoaded', () => {
    multiStepForm = new MultiStepForm('multi-step-form');
});

// Fun√ß√µes globais para navega√ß√£o
function nextStep() {
    multiStepForm.nextStep();
}

function previousStep() {
    multiStepForm.previousStep();
}

// Busca CEP (integra√ß√£o com API)
async function buscarCEP(cep) {
    cep = cep.replace(/[^0-9]/g, '');
    
    if (cep.length === 8) {
        try {
            const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
            const data = await response.json();
            
            if (!data.erro) {
                document.getElementById('street').value = data.logradouro;
                document.getElementById('city').value = data.localidade;
                document.getElementById('state').value = data.uf;
            }
        } catch (error) {
            console.error('Erro ao buscar CEP:', error);
        }
    }
}</code></pre>
            </div>
        </section>

        <!-- Continua√ß√£o nas pr√≥ximas se√ß√µes... -->
        
        <!-- Navega√ß√£o do Curso -->
        <nav class="course-navigation">
            <div class="nav-buttons">
                <a href="aula-06-formularios-basicos.html" class="nav-btn secondary">
                    ‚Üê üìã Aula Anterior
                </a>
                <a href="aula-08-html-semantico.html" class="nav-btn primary">
                    üèóÔ∏è Pr√≥xima Aula ‚Üí
                </a>
            </div>
        </nav>

        <!-- Footer da Aula -->
        <footer class="aula-footer">
            <h3>üéâ Formul√°rios Avan√ßados Dominados!</h3>
            <p>
                Excelente! Agora voc√™ domina t√©cnicas avan√ßadas de formul√°rios. 
                Na pr√≥xima aula, vamos trabalhar com HTML sem√¢ntico.
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Marcar como conclu√≠da
            function marcarAulaConcluida() {
                const progresso = JSON.parse(localStorage.getItem('curso-html-progresso') || '[]');
                if (!progresso.includes(7)) {
                    progresso.push(7);
                    localStorage.setItem('curso-html-progresso', JSON.stringify(progresso));
                }
            }

            // Observer para footer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        marcarAulaConcluida();
                    }
                });
            });
            
            const footer = document.querySelector('.aula-footer');
            if (footer) {
                observer.observe(footer);
            }
        });
    </script>
</body>
</html>
